\documentclass[fontsize=12pt, paper=a4]{scrlttr2}

% Dont forget to read the KOMA-Script documentation, scrguien.pdf

\setkomavar{fromname}{Andrew Nelson} % your name
\setkomavar{fromaddress}{ANSTO \\ Locked Bag 2001 \\ Kirrawee DC \\ NSW 2232 \\ Australia}

\setkomavar{signature}{} % printed after the \closing
\renewcommand{\raggedsignature}{\raggedright} % make the signature ragged right

\setkomavar{subject}{RG5158 - refnx -- Neutron and X-ray reflectometry analysis in Python} % subject of the letter

\begin{document}
\begin{letter}{Dr Gilles Renaud \\ gilles.renaud@cea.fr}

\opening{Dear Dr Renaud}  % eg. Hello
Thank you for forwarding the kind comments of the referees towards our recently submitted manuscript (\#RG5158). We note that they were universally positive, with only minor adjustments to be made. These adjustments towards each referees comments are listed below, and we trust that they meet the requirements for publication in the \emph{Journal of Applied Crystallography}.


\textbf{referee 1}
\begin{itemize}
\item \textbf{How modular is the framework - is it simple for example to extend to include other minimisers?} Additional minimizers from the scipy library can be added relatively simply. Without further code modification it's not possible for the CurveFitter machinery to use other minimisers, but such changes could be made if necessary. An alternative approach is to use an Objective directly with another minimiser framework.
\item \textbf{Is there a library of standard models / a way envisaged to allow users to contribute models in a manner similar to the model market place in SASView?} The \emph{LipidLeaflet} component described in the paper could be considered an example of such a model. Such components are found in the 'examples' folder of the repository. Contribution of user supplied models is welcomed, with the contribution method outlined in the \emph{Distribution and Modification} section: "The standard GitHub workflow is followed in which contributors create their own `fork' of the main refnx repository, and create a feature branch to which they make modifications (such as the addition of a user defined \emph{Component})". The authors do not have the resources to host a separate webpage for this purpose, we believe github is usable for this purpose already.
\item \textbf{Can the fitting run in a headless mode - for multiple batch fitting of data sets?} A headless system is a computer that has been configured to operate without a monitor. The refnx package can be used from a Python interpreter in many different ways including (but not limited to): a Jupyter notebook (for browser based interaction), a command line interpreter in a terminal session, a script which the user submits to a cluster (possibly using MPI for parallelisation), etc. This list is not exhaustive, but none of those items would require the computer running the interpreter to possess a monitor. There is no code within refnx for batch fitting \emph{per se}, but users with a rudimentary understanding of Python (such as that needed to create a model) should be able to create a script to do batch analyses. This batch script could be run on any computer capable of running a Python interpreter with the refnx package installed.
\item \textbf{What is the data format read by the framework does it include metadata from the experiment that is useful for data curation?} The data format that refnx reads is described in detail on page 6 in section 2.2, "Model/Data comparison". User provided data arrays can also be used to create the Data1D objects used in the modelling framework. No attempt is made to read metadata from the datafile. There is currently no standard way of describing a neutron or X-ray reflectometry dataset, each facility has their own methods of including metadata making it difficult to write a universal reader. This would be a good community development project for the future.
\item \textbf{How is the resolution of the instrument accounted for - are geometric instrument parameters scraped from the data file?} The resolution smearing of an instrument is described in detail at the top of page 6 when the \textbf{ReflectModel} is described. Constant dq/q or point by point dq/q resolution smearing can be used (Gaussian approximation), with the latter information being read from the 4th column of the dataset, this is also described in the manuscript. The manuscript also mentions that a resolution kernel of arbitrary shape can be used. However, it's not within the scope of the manuscript to describe the full mathematical detail of how those operations are performed. Besides the fourth column of the dataset (dq, if present) no other geometrical information is scraped from the datafile. This is because the inclusion of resolution information from various facilities is haphazard, and there is no standard dataset format.

\end{itemize}


\textbf{referee 2}
\begin{itemize}
\item \textbf{Resolve the question marks in the Sivia and Skilling reference} These references are completed successfully in our rendering of the latex document. We are unsure why they are not rendered properly by the submission gateway.
\item \textbf{In middle of page, Replace "user user" with "user"} This change is made.
\item \textbf{Third-to-last line â€“ shouldn't this read as $p(\theta|D,I)$ instead of $p(\theta|I,D)$?} The order of D, I does not really matter, but we have changed it anyway to be consistent with equation 1.
\end{itemize}


\textbf{referee 3}
No amendments are required.


\textbf{referee 4}
\begin{itemize}
\item \textbf{Missing references in 1-Introduction (after Sivia 2006)?} These references are completed successfully in our rendering of the \LaTeX{} document. We are unsure why they are not rendered properly by the submission gateway.
\item \textbf{Pauw et al may be added to the references list} This reference has been added.
\item \textbf{please complete the reference Nelson, A and Dewhurst C 2014 46 1338-1346} This reference has been completed.
\end{itemize}


\closing{Regards, \\ Dr Andrew Nelson} %eg. Regards

\end{letter}
\end{document}